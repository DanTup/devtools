os:
  - linux
  - osx
  - windows

language: dart
dart:
  - "dev/raw/latest"
# Disable testing on stable; it creates many more bots, and we generally only need
# test coverage for the SDK version we're developing and distributing against.
#  - stable

addons:
  chrome: stable

matrix:
  # TODO(dantup): Fix these failures on Windows and remove this
  exclude:
    - os: windows
      env: BOT=test_ddc
    - os: windows
      env: BOT=test_dart2js

env:
  - BOT=main
  - BOT=test_ddc
  - BOT=test_dart2js
  - BOT=flutter_sdk_tests

script: ./tool/travis.sh

cache:
  directories:
  - $HOME/.pub-cache # macOS / Linux
  - $APPDATA/Roaming/Pub/Cache # Windows
